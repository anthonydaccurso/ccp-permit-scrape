name: Seed Areas
on:
  workflow_dispatch: {}   # manual trigger
jobs:
  seed:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with: { node-version: 20 }
      - name: Install deps (skip scripts)
        run: |
          if [ -f package-lock.json ]; then npm ci --ignore-scripts; else npm install --ignore-scripts; fi
      - name: Seed areas
        env:
          APP_BASE_URL: ${{ secrets.APP_BASE_URL }}
          ADMIN_TOKEN: ${{ secrets.ADMIN_TOKEN }}
        run: npm run seed:areas
